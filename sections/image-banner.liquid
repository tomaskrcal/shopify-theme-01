<div class="relative bg-white py-16 sm:py-24">
  <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:gap-24 lg:items-start">
    <div class="relative sm:py-16 lg:py-0">
      <div aria-hidden="true" class="hidden sm:block lg:absolute lg:inset-y-0 lg:right-0 lg:w-screen">
        <div class="absolute inset-y-0 bg-color-background-2 right-1/2 w-full rounded-r-3xl lg:right-72"></div>
        <svg class="absolute top-8 left-1/2 -ml-3 lg:-right-8 lg:left-auto lg:top-12" width="404" height="392" fill="none" viewBox="0 0 404 392">
          <defs>
            <pattern id="02f20b47-fd69-4224-a62a-4c9de5c763f7" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
              <rect x="0" y="0" width="4" height="4" class="text-gray-200" fill="currentColor" />
            </pattern>
          </defs>
          <rect width="404" height="392" fill="url(#02f20b47-fd69-4224-a62a-4c9de5c763f7)" />
        </svg>
      </div>
      <div class="relative mx-auto max-w-md px-4 sm:max-w-3xl sm:px-6 lg:px-0 lg:max-w-none lg:py-20">
        <!-- Testimonial card-->
        <div class="relative pt-96 pb-10 shadow-xl overflow-hidden">
          <img
            class="absolute inset-0 h-full w-full object-cover"
            srcset="{%- if section.settings.image.width >= 375 -%}{{ section.settings.image | img_url: '375x' }} 375w,{%- endif -%}
            {%- if section.settings.image.width >= 750 -%}{{ section.settings.image | img_url: '750x' }} 750w,{%- endif -%}
            {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | img_url: '1100x' }} 1100w,{%- endif -%}
            {%- if section.settings.image.width >= 1500 -%}{{ section.settings.image | img_url: '1500x' }} 1500w,{%- endif -%}
            {%- if section.settings.image.width >= 1780 -%}{{ section.settings.image | img_url: '1780x' }} 1780w,{%- endif -%}
            {%- if section.settings.image.width >= 2000 -%}{{ section.settings.image | img_url: '2000x' }} 2000w,{%- endif -%}
            {%- if section.settings.image.width >= 2800 -%}{{ section.settings.image | img_url: '2800x' }} 2800w{%- endif -%}"
            src="{{ section.settings.image | img_url: '750x' }}"
            loading="lazy"
            alt="{{ section.settings.image.alt | escape }}"
            width="{{ section.settings.image.width }}"
            height="{{ section.settings.image.width | divided_by: section.settings.image.aspect_ratio }}"
          >
        </div>
      </div>
    </div>

    <div class="relative mx-auto max-w-md px-4 sm:max-w-3xl sm:px-6 lg:px-0">
      <!-- Content area -->
      <div class="pt-12 sm:pt-16 lg:pt-20">
        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'heading' -%}
              <h2 class="text-3xl color-base-text tracking-tight sm:text-4xl" {{ block.shopify_attributes }}>
                <span>{{ block.settings.heading | escape }}</span>
              </h2>
            {%- when 'text' -%}
              <div class="mt-6 text-gray-500 text space-y-6" {{ block.shopify_attributes }}>
                <span>{{ block.settings.text }}</span>
              </div>
            {%- when 'buttons' -%}
              <div
                class="flex mt-4 {% if block.settings.button_label_1 != blank and block.settings.button_link_1 != blank and block.settings.button_label_2 != blank and block.settings.button_link_2 != blank %} btns--multiple{% endif %}" {{ block.shopify_attributes }}>
                {%- if block.settings.button_label_1 != blank -%}
                  <a{% if block.settings.button_link_1 != blank %} href="{{ block.settings.button_link_1 }}"{% endif %}
                    class="flex btn px-8 py-4 border border-transparent shadow-sm {% if block.settings.button_style_secondary_1 %} btn-secondary{% else %} btn-primary{% endif %}"{% if block.settings.button_link_1 == blank %} aria-disabled="true"{% endif %}>
                    {{ block.settings.button_label_1 | escape }}
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                    </svg>
                  </a>
                {%- endif -%}
                {%- if block.settings.button_label_2 != blank -%}
                  <a{% if block.settings.button_link_2 != blank %} href="{{ block.settings.button_link_2 }}"{% endif %}
                    class="flex btn px-8 py-4 border border-transparent shadow-sm{% if block.settings.button_style_secondary_2 %} btn-secondary{% else %} btn-primary{% endif %}"{% if block.settings.button_link_2 == blank %} aria-disabled="true"{% endif %}>{{ block.settings.button_label_2 | escape }}</a>
                {%- endif -%}
              </div>
          {%- endcase -%}
        {%- endfor -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
   "name":"t:sections.image-banner.name",
   "tag":"section",
   "class":"spaced-section spaced-section--full-width z-20",
   "settings":[
      {
         "type":"image_picker",
         "id":"image",
         "label":"t:sections.image-banner.settings.image.label"
      }
   ],
   "blocks":[
      {
         "type":"heading",
         "name":"t:sections.image-banner.blocks.heading.name",
         "limit":1,
         "settings":[
            {
               "type":"text",
               "id":"heading",
               "default":"Image banner",
               "label":"t:sections.image-banner.blocks.heading.settings.heading.label"
            }
         ]
      },
      {
         "type":"text",
         "name":"t:sections.image-banner.blocks.text.name",
         "limit":1,
         "settings":[
            {
               "type":"richtext",
               "id":"text",
               "default":"<p>Give customers details about the banner image(s) or content on the template.</p>",
               "label":"t:sections.image-banner.blocks.text.settings.text.label"
            }
         ]
      },
      {
         "type":"buttons",
         "name":"t:sections.image-banner.blocks.buttons.name",
         "limit":2,
         "settings":[
            {
               "type":"text",
               "id":"button_label_1",
               "default":"Button label",
               "label":"t:sections.image-banner.blocks.buttons.settings.button_label_1.label",
               "info":"t:sections.image-banner.blocks.buttons.settings.button_label_1.info"
            },
            {
               "type":"url",
               "id":"button_link_1",
               "label":"t:sections.image-banner.blocks.buttons.settings.button_link_1.label"
            },
            {
               "type":"checkbox",
               "id":"button_style_secondary_1",
               "default":false,
               "label":"t:sections.image-banner.blocks.buttons.settings.button_style_secondary_1.label"
            },
            {
               "type":"text",
               "id":"button_label_2",
               "default":"Collection",
               "label":"t:sections.image-banner.blocks.buttons.settings.button_label_2.label",
               "info":"t:sections.image-banner.blocks.buttons.settings.button_label_2.info"
            },
            {
               "type":"url",
               "id":"button_link_2",
               "label":"t:sections.image-banner.blocks.buttons.settings.button_link_2.label"
            },
            {
               "type":"checkbox",
               "id":"button_style_secondary_2",
               "default":true,
               "label":"t:sections.image-banner.blocks.buttons.settings.button_style_secondary_2.label"
            }
         ]
      }
   ],
   "presets":[
      {
         "name":"t:sections.image-banner.presets.name",
         "blocks":[
            {
               "type":"heading"
            },
            {
               "type":"text"
            },
            {
               "type":"buttons"
            }
         ]
      }
   ]
}
{% endschema %}
